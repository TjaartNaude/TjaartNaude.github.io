import{v as ut,x as Ce,b5 as je,r as D,f as y,o as ze,I as ct,F as dt,ao as vt,h as S,t as le,aq as mt,aT as ft,H as oe,Z as ht,q as ce,aP as gt,E as bt,c as de,g as ye,i as Le,w as ie,a4 as pt,X as Ct,Y as yt,s as ve,N as Tt,O as ae,J as _t,P as It,n as re,R as Te,V as Be,m as _e,a1 as wt,T as Dt,b6 as St,b7 as Pt,C as At,D as kt,a2 as qt,ab as Ge,aa as De,ad as K,ae as z,af as h,ag as v,aC as Z,aj as M,an as te,aD as Me,ai as ee,b8 as xt,ak as Ie,b9 as He,ah as F,aB as Se,aU as Xe,am as we,a as ue,ac as Ke,Q as Et}from"./index.d3428df6.js";import{Q as Rt,g as Qe,s as Ue}from"./touch.5fdb3eb7.js";import{r as Vt,a as Oe}from"./QSelect.2d01b2ad.js";import{a as J,Q as $e}from"./QTable.8e6c3478.js";import{d as Nt}from"./format.dd879f94.js";import"./QList.51604e55.js";let Lt=0;const Bt=["click","keydown"],Mt={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>`t_${Lt++}`},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function Kt(e,a,r,o){const t=ut(je,Ce);if(t===Ce)return console.error("QTab/QRouteTab component needs to be child of QTabs"),Ce;const{proxy:i}=ce(),s=D(null),C=D(null),u=D(null),E=y(()=>e.disable===!0||e.ripple===!1?!1:Object.assign({keyCodes:[13,32],early:!0},e.ripple===!0?{}:e.ripple)),T=y(()=>t.currentModel.value===e.name),Q=y(()=>"q-tab relative-position self-stretch flex flex-center text-center"+(T.value===!0?" q-tab--active"+(t.tabProps.value.activeClass?" "+t.tabProps.value.activeClass:"")+(t.tabProps.value.activeColor?` text-${t.tabProps.value.activeColor}`:"")+(t.tabProps.value.activeBgColor?` bg-${t.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&t.tabProps.value.inlineLabel===!1?" q-tab--full":"")+(e.noCaps===!0||t.tabProps.value.noCaps===!0?" q-tab--no-caps":"")+(e.disable===!0?" disabled":" q-focusable q-hoverable cursor-pointer")+(o!==void 0?o.linkClass.value:"")),p=y(()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(t.tabProps.value.inlineLabel===!0?"row no-wrap q-tab__content--inline":"column")+(e.contentClass!==void 0?` ${e.contentClass}`:"")),_=y(()=>e.disable===!0||t.hasFocus.value===!0||T.value===!1&&t.hasActiveTab.value===!0?-1:e.tabindex||0);function A(c,k){if(k!==!0&&s.value!==null&&s.value.focus(),e.disable===!0){o!==void 0&&o.hasRouterLink.value===!0&&le(c);return}if(o===void 0){t.updateModel({name:e.name}),r("click",c);return}if(o.hasRouterLink.value===!0){const R=(P={})=>{let q;const L=P.to===void 0||gt(P.to,e.to)===!0?t.avoidRouteWatcher=bt():null;return o.navigateToRouterLink(c,{...P,returnRouterError:!0}).catch(U=>{q=U}).then(U=>{if(L===t.avoidRouteWatcher&&(t.avoidRouteWatcher=!1,q===void 0&&(U===void 0||U.message.startsWith("Avoided redundant navigation")===!0)&&t.updateModel({name:e.name})),P.returnRouterError===!0)return q!==void 0?Promise.reject(q):U})};r("click",c,R),c.defaultPrevented!==!0&&R();return}r("click",c)}function N(c){mt(c,[13,32])?A(c,!0):ft(c)!==!0&&c.keyCode>=35&&c.keyCode<=40&&c.altKey!==!0&&c.metaKey!==!0&&t.onKbdNavigate(c.keyCode,i.$el)===!0&&le(c),r("keydown",c)}function B(){const c=t.tabProps.value.narrowIndicator,k=[],R=S("div",{ref:u,class:["q-tab__indicator",t.tabProps.value.indicatorClass]});e.icon!==void 0&&k.push(S(oe,{class:"q-tab__icon",name:e.icon})),e.label!==void 0&&k.push(S("div",{class:"q-tab__label"},e.label)),e.alert!==!1&&k.push(e.alertIcon!==void 0?S(oe,{class:"q-tab__alert-icon",color:e.alert!==!0?e.alert:void 0,name:e.alertIcon}):S("div",{class:"q-tab__alert"+(e.alert!==!0?` text-${e.alert}`:"")})),c===!0&&k.push(R);const P=[S("div",{class:"q-focus-helper",tabindex:-1,ref:s}),S("div",{class:p.value},ht(a.default,k))];return c===!1&&P.push(R),P}const O={name:y(()=>e.name),rootRef:C,tabIndicatorRef:u,routeData:o};ze(()=>{t.unregisterTab(O)}),ct(()=>{t.registerTab(O)});function G(c,k){const R={ref:C,class:Q.value,tabindex:_.value,role:"tab","aria-selected":T.value===!0?"true":"false","aria-disabled":e.disable===!0?"true":void 0,onClick:A,onKeydown:N,...k};return dt(S(c,R,B()),[[vt,E.value]])}return{renderTab:G,$tabs:t}}var Fe=de({name:"QTab",props:Mt,emits:Bt,setup(e,{slots:a,emit:r}){const{renderTab:o}=Kt(e,a,r);return()=>o("div")}});function Qt(e,a,r){const o=r===!0?["left","right"]:["top","bottom"];return`absolute-${a===!0?o[0]:o[1]}${e?` text-${e}`:""}`}const Ut=["left","center","right","justify"];var Ot=de({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>Ut.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:a,emit:r}){const{proxy:o}=ce(),{$q:t}=o,{registerTick:i}=ye(),{registerTick:s}=ye(),{registerTick:C}=ye(),{registerTimeout:u,removeTimeout:E}=Le(),{registerTimeout:T,removeTimeout:Q}=Le(),p=D(null),_=D(null),A=D(e.modelValue),N=D(!1),B=D(!0),O=D(!1),G=D(!1),c=[],k=D(0),R=D(!1);let P=null,q=null,L;const U=y(()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:Qt(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps})),me=y(()=>{const l=k.value,n=A.value;for(let d=0;d<l;d++)if(c[d].name.value===n)return!0;return!1}),fe=y(()=>`q-tabs__content--align-${N.value===!0?"left":G.value===!0?"justify":e.align}`),he=y(()=>`q-tabs row no-wrap items-center q-tabs--${N.value===!0?"":"not-"}scrollable q-tabs--${e.vertical===!0?"vertical":"horizontal"} q-tabs__arrows--${e.outsideArrows===!0?"outside":"inside"} q-tabs--mobile-with${e.mobileArrows===!0?"":"out"}-arrows`+(e.dense===!0?" q-tabs--dense":"")+(e.shrink===!0?" col-shrink":"")+(e.stretch===!0?" self-stretch":"")),m=y(()=>"q-tabs__content scroll--mobile row no-wrap items-center self-stretch hide-scrollbar relative-position "+fe.value+(e.contentClass!==void 0?` ${e.contentClass}`:"")),b=y(()=>e.vertical===!0?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"}),V=y(()=>e.vertical!==!0&&t.lang.rtl===!0),W=y(()=>Vt===!1&&V.value===!0);ie(V,X),ie(()=>e.modelValue,l=>{ge({name:l,setCurrent:!0,skipEmit:!0})}),ie(()=>e.outsideArrows,ne);function ge({name:l,setCurrent:n,skipEmit:d}){A.value!==l&&(d!==!0&&e["onUpdate:modelValue"]!==void 0&&r("update:modelValue",l),(n===!0||e["onUpdate:modelValue"]===void 0)&&(Je(A.value,l),A.value=l))}function ne(){i(()=>{Pe({width:p.value.offsetWidth,height:p.value.offsetHeight})})}function Pe(l){if(b.value===void 0||_.value===null)return;const n=l[b.value.container],d=Math.min(_.value[b.value.scroll],Array.prototype.reduce.call(_.value.children,(w,g)=>w+(g[b.value.content]||0),0)),I=n>0&&d>n;N.value=I,I===!0&&s(X),G.value=n<parseInt(e.breakpoint,10)}function Je(l,n){const d=l!=null&&l!==""?c.find(w=>w.name.value===l):null,I=n!=null&&n!==""?c.find(w=>w.name.value===n):null;if(d&&I){const w=d.tabIndicatorRef.value,g=I.tabIndicatorRef.value;P!==null&&(clearTimeout(P),P=null),w.style.transition="none",w.style.transform="none",g.style.transition="none",g.style.transform="none";const f=w.getBoundingClientRect(),x=g.getBoundingClientRect();g.style.transform=e.vertical===!0?`translate3d(0,${f.top-x.top}px,0) scale3d(1,${x.height?f.height/x.height:1},1)`:`translate3d(${f.left-x.left}px,0,0) scale3d(${x.width?f.width/x.width:1},1,1)`,C(()=>{P=setTimeout(()=>{P=null,g.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",g.style.transform="none"},70)})}I&&N.value===!0&&H(I.rootRef.value)}function H(l){const{left:n,width:d,top:I,height:w}=_.value.getBoundingClientRect(),g=l.getBoundingClientRect();let f=e.vertical===!0?g.top-I:g.left-n;if(f<0){_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.floor(f),X();return}f+=e.vertical===!0?g.height-w:g.width-d,f>0&&(_.value[e.vertical===!0?"scrollTop":"scrollLeft"]+=Math.ceil(f),X())}function X(){const l=_.value;if(l===null)return;const n=l.getBoundingClientRect(),d=e.vertical===!0?l.scrollTop:Math.abs(l.scrollLeft);V.value===!0?(B.value=Math.ceil(d+n.width)<l.scrollWidth-1,O.value=d>0):(B.value=d>0,O.value=e.vertical===!0?Math.ceil(d+n.height)<l.scrollHeight:Math.ceil(d+n.width)<l.scrollWidth)}function Ae(l){q!==null&&clearInterval(q),q=setInterval(()=>{tt(l)===!0&&Y()},5)}function ke(){Ae(W.value===!0?Number.MAX_SAFE_INTEGER:0)}function qe(){Ae(W.value===!0?0:Number.MAX_SAFE_INTEGER)}function Y(){q!==null&&(clearInterval(q),q=null)}function Ze(l,n){const d=Array.prototype.filter.call(_.value.children,x=>x===n||x.matches&&x.matches(".q-tab.q-focusable")===!0),I=d.length;if(I===0)return;if(l===36)return H(d[0]),d[0].focus(),!0;if(l===35)return H(d[I-1]),d[I-1].focus(),!0;const w=l===(e.vertical===!0?38:37),g=l===(e.vertical===!0?40:39),f=w===!0?-1:g===!0?1:void 0;if(f!==void 0){const x=V.value===!0?-1:1,$=d.indexOf(n)+f*x;return $>=0&&$<I&&(H(d[$]),d[$].focus({preventScroll:!0})),!0}}const et=y(()=>W.value===!0?{get:l=>Math.abs(l.scrollLeft),set:(l,n)=>{l.scrollLeft=-n}}:e.vertical===!0?{get:l=>l.scrollTop,set:(l,n)=>{l.scrollTop=n}}:{get:l=>l.scrollLeft,set:(l,n)=>{l.scrollLeft=n}});function tt(l){const n=_.value,{get:d,set:I}=et.value;let w=!1,g=d(n);const f=l<g?-1:1;return g+=f*5,g<0?(w=!0,g=0):(f===-1&&g<=l||f===1&&g>=l)&&(w=!0,g=l),I(n,g),X(),w}function xe(l,n){for(const d in l)if(l[d]!==n[d])return!1;return!0}function at(){let l=null,n={matchedLen:0,queryDiff:9999,hrefLen:0};const d=c.filter(f=>f.routeData!==void 0&&f.routeData.hasRouterLink.value===!0),{hash:I,query:w}=o.$route,g=Object.keys(w).length;for(const f of d){const x=f.routeData.exact.value===!0;if(f.routeData[x===!0?"linkIsExactActive":"linkIsActive"].value!==!0)continue;const{hash:$,query:be,matched:st,href:rt}=f.routeData.resolvedLink.value,pe=Object.keys(be).length;if(x===!0){if($!==I||pe!==g||xe(w,be)===!1)continue;l=f.name.value;break}if($!==""&&$!==I||pe!==0&&xe(be,w)===!1)continue;const j={matchedLen:st.length,queryDiff:g-pe,hrefLen:rt.length-$.length};if(j.matchedLen>n.matchedLen){l=f.name.value,n=j;continue}else if(j.matchedLen!==n.matchedLen)continue;if(j.queryDiff<n.queryDiff)l=f.name.value,n=j;else if(j.queryDiff!==n.queryDiff)continue;j.hrefLen>n.hrefLen&&(l=f.name.value,n=j)}l===null&&c.some(f=>f.routeData===void 0&&f.name.value===A.value)===!0||ge({name:l,setCurrent:!0})}function it(l){if(E(),R.value!==!0&&p.value!==null&&l.target&&typeof l.target.closest=="function"){const n=l.target.closest(".q-tab");n&&p.value.contains(n)===!0&&(R.value=!0,N.value===!0&&H(n))}}function lt(){u(()=>{R.value=!1},30)}function se(){Re.avoidRouteWatcher===!1?T(at):Q()}function Ee(){if(L===void 0){const l=ie(()=>o.$route.fullPath,se);L=()=>{l(),L=void 0}}}function ot(l){c.push(l),k.value++,ne(),l.routeData===void 0||o.$route===void 0?T(()=>{if(N.value===!0){const n=A.value,d=n!=null&&n!==""?c.find(I=>I.name.value===n):null;d&&H(d.rootRef.value)}}):(Ee(),l.routeData.hasRouterLink.value===!0&&se())}function nt(l){c.splice(c.indexOf(l),1),k.value--,ne(),L!==void 0&&l.routeData!==void 0&&(c.every(n=>n.routeData===void 0)===!0&&L(),se())}const Re={currentModel:A,tabProps:U,hasFocus:R,hasActiveTab:me,registerTab:ot,unregisterTab:nt,verifyRouteModel:se,updateModel:ge,onKbdNavigate:Ze,avoidRouteWatcher:!1};pt(je,Re);function Ve(){P!==null&&clearTimeout(P),Y(),L!==void 0&&L()}let Ne;return ze(Ve),Ct(()=>{Ne=L!==void 0,Ve()}),yt(()=>{Ne===!0&&Ee(),ne()}),()=>S("div",{ref:p,class:he.value,role:"tablist",onFocusin:it,onFocusout:lt},[S(Rt,{onResize:Pe}),S("div",{ref:_,class:m.value,onScroll:X},ve(a.default)),S(oe,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(B.value===!0?"":" q-tabs__arrow--faded"),name:e.leftIcon||t.iconSet.tabs[e.vertical===!0?"up":"left"],onMousedownPassive:ke,onTouchstartPassive:ke,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y}),S(oe,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(O.value===!0?"":" q-tabs__arrow--faded"),name:e.rightIcon||t.iconSet.tabs[e.vertical===!0?"down":"right"],onMousedownPassive:qe,onTouchstartPassive:qe,onMouseupPassive:Y,onMouseleavePassive:Y,onTouchendPassive:Y})])}});function $t(e){const a=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((r,o)=>{const t=parseFloat(r);t&&(a[o]=t)}),a}var Ft=Tt({name:"touch-swipe",beforeMount(e,{value:a,arg:r,modifiers:o}){if(o.mouse!==!0&&ae.has.touch!==!0)return;const t=o.mouseCapture===!0?"Capture":"",i={handler:a,sensitivity:$t(r),direction:Qe(o),noop:_t,mouseStart(s){Ue(s,i)&&It(s)&&(re(i,"temp",[[document,"mousemove","move",`notPassive${t}`],[document,"mouseup","end","notPassiveCapture"]]),i.start(s,!0))},touchStart(s){if(Ue(s,i)){const C=s.target;re(i,"temp",[[C,"touchmove","move","notPassiveCapture"],[C,"touchcancel","end","notPassiveCapture"],[C,"touchend","end","notPassiveCapture"]]),i.start(s)}},start(s,C){ae.is.firefox===!0&&Te(e,!0);const u=Be(s);i.event={x:u.left,y:u.top,time:Date.now(),mouse:C===!0,dir:!1}},move(s){if(i.event===void 0)return;if(i.event.dir!==!1){le(s);return}const C=Date.now()-i.event.time;if(C===0)return;const u=Be(s),E=u.left-i.event.x,T=Math.abs(E),Q=u.top-i.event.y,p=Math.abs(Q);if(i.event.mouse!==!0){if(T<i.sensitivity[1]&&p<i.sensitivity[1]){i.end(s);return}}else if(window.getSelection().toString()!==""){i.end(s);return}else if(T<i.sensitivity[2]&&p<i.sensitivity[2])return;const _=T/C,A=p/C;i.direction.vertical===!0&&T<p&&T<100&&A>i.sensitivity[0]&&(i.event.dir=Q<0?"up":"down"),i.direction.horizontal===!0&&T>p&&p<100&&_>i.sensitivity[0]&&(i.event.dir=E<0?"left":"right"),i.direction.up===!0&&T<p&&Q<0&&T<100&&A>i.sensitivity[0]&&(i.event.dir="up"),i.direction.down===!0&&T<p&&Q>0&&T<100&&A>i.sensitivity[0]&&(i.event.dir="down"),i.direction.left===!0&&T>p&&E<0&&p<100&&_>i.sensitivity[0]&&(i.event.dir="left"),i.direction.right===!0&&T>p&&E>0&&p<100&&_>i.sensitivity[0]&&(i.event.dir="right"),i.event.dir!==!1?(le(s),i.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),Nt(),i.styleCleanup=N=>{i.styleCleanup=void 0,document.body.classList.remove("non-selectable");const B=()=>{document.body.classList.remove("no-pointer-events--children")};N===!0?setTimeout(B,50):B()}),i.handler({evt:s,touch:i.event.mouse!==!0,mouse:i.event.mouse,direction:i.event.dir,duration:C,distance:{x:T,y:p}})):i.end(s)},end(s){i.event!==void 0&&(_e(i,"temp"),ae.is.firefox===!0&&Te(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(!0),s!==void 0&&i.event.dir!==!1&&le(s),i.event=void 0)}};if(e.__qtouchswipe=i,o.mouse===!0){const s=o.mouseCapture===!0||o.mousecapture===!0?"Capture":"";re(i,"main",[[e,"mousedown","mouseStart",`passive${s}`]])}ae.has.touch===!0&&re(i,"main",[[e,"touchstart","touchStart",`passive${o.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const r=e.__qtouchswipe;r!==void 0&&(a.oldValue!==a.value&&(typeof a.value!="function"&&r.end(),r.handler=a.value),r.direction=Qe(a.modifiers))},beforeUnmount(e){const a=e.__qtouchswipe;a!==void 0&&(_e(a,"main"),_e(a,"temp"),ae.is.firefox===!0&&Te(e,!1),a.styleCleanup!==void 0&&a.styleCleanup(),delete e.__qtouchswipe)}});function Wt(){const e=new Map;return{getCache:function(a,r){return e[a]===void 0?e[a]=r:e[a]},getCacheWithFn:function(a,r){return e[a]===void 0?e[a]=r():e[a]}}}const Yt={name:{required:!0},disable:Boolean},We={setup(e,{slots:a}){return()=>S("div",{class:"q-panel scroll",role:"tabpanel"},ve(a.default))}},jt={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},zt=["update:modelValue","beforeTransition","transition"];function Gt(){const{props:e,emit:a,proxy:r}=ce(),{getCacheWithFn:o}=Wt();let t,i;const s=D(null),C=D(null);function u(m){const b=e.vertical===!0?"up":"left";q((r.$q.lang.rtl===!0?-1:1)*(m.direction===b?1:-1))}const E=y(()=>[[Ft,u,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),T=y(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),Q=y(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),p=y(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=y(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),A=y(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),N=y(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);ie(()=>e.modelValue,(m,b)=>{const V=c(m)===!0?k(m):-1;i!==!0&&P(V===-1?0:V<k(b)?-1:1),s.value!==V&&(s.value=V,a("beforeTransition",m,b),wt(()=>{a("transition",m,b)}))});function B(){q(1)}function O(){q(-1)}function G(m){a("update:modelValue",m)}function c(m){return m!=null&&m!==""}function k(m){return t.findIndex(b=>b.props.name===m&&b.props.disable!==""&&b.props.disable!==!0)}function R(){return t.filter(m=>m.props.disable!==""&&m.props.disable!==!0)}function P(m){const b=m!==0&&e.animated===!0&&s.value!==-1?"q-transition--"+(m===-1?T.value:Q.value):null;C.value!==b&&(C.value=b)}function q(m,b=s.value){let V=b+m;for(;V>-1&&V<t.length;){const W=t[V];if(W!==void 0&&W.props.disable!==""&&W.props.disable!==!0){P(m),i=!0,a("update:modelValue",W.props.name),setTimeout(()=>{i=!1});return}V+=m}e.infinite===!0&&t.length!==0&&b!==-1&&b!==t.length&&q(m,m===-1?t.length:-1)}function L(){const m=k(e.modelValue);return s.value!==m&&(s.value=m),!0}function U(){const m=c(e.modelValue)===!0&&L()&&t[s.value];return e.keepAlive===!0?[S(Pt,A.value,[S(N.value===!0?o(_.value,()=>({...We,name:_.value})):We,{key:_.value,style:p.value},()=>m)])]:[S("div",{class:"q-panel scroll",style:p.value,key:_.value,role:"tabpanel"},[m])]}function me(){if(t.length!==0)return e.animated===!0?[S(Dt,{name:C.value},U)]:U()}function fe(m){return t=St(ve(m.default,[])).filter(b=>b.props!==null&&b.props.slot===void 0&&c(b.props.name)===!0),t.length}function he(){return t}return Object.assign(r,{next:B,previous:O,goTo:G}),{panelIndex:s,panelDirectives:E,updatePanelsList:fe,updatePanelIndex:L,getPanelContent:me,getEnabledPanels:R,getPanels:he,isValidPanelName:c,keepAliveProps:A,needsUniqueKeepAliveWrapper:N,goToPanelByOffset:q,goToPanel:G,nextPanel:B,previousPanel:O}}var Ye=de({name:"QTabPanel",props:Yt,setup(e,{slots:a}){return()=>S("div",{class:"q-tab-panel",role:"tabpanel"},ve(a.default))}}),Ht=de({name:"QTabPanels",props:{...jt,...At},emits:zt,setup(e,{slots:a}){const r=ce(),o=kt(e,r.proxy.$q),{updatePanelsList:t,getPanelContent:i,panelDirectives:s}=Gt(),C=y(()=>"q-tab-panels q-panel-parent"+(o.value===!0?" q-tab-panels--dark q-dark":""));return()=>(t(a),qt("div",{class:C.value},i(),"pan",e.swipeable,()=>s.value))}});const Xt={data(){return{title:"",nameLabel:"",showDialog:!0,itemId:0,itemName:"",isItemActive:!0}},props:{id:Number,name:String,isActive:Boolean,type:String},created(){this.title=`Update ${this.type}`,this.itemId=this.id,this.itemName=this.name,this.isItemActive=this.isActive},methods:{closeDialog(){this.showDialog=!1,this.$emit("close-dialog",!1)},saveChanges(){const e=`TICKET_${this.type.toUpperCase()}_ID`,a=`TICKET_${this.type.toUpperCase()}_DESC`;this.$emit("save-dialog",{item:{[e]:this.itemId,[a]:this.itemName,ACTIVE_STATUS_ID:this.isItemActive?1:2,ACTIVE_STATUS_DESC:this.isItemActive?"ACTIVE":"INACTIVE"},idPropertyName:e})}},computed:{...Ge("auth",["isAuthenticated","userEmail","userFirstName","userRole"])}},Jt={class:"text-h6"},Zt={key:0},ea={key:1};function ta(e,a,r,o,t,i){return K(),z(Xe,{modelValue:t.showDialog,"onUpdate:modelValue":a[3]||(a[3]=s=>t.showDialog=s),persistent:""},{default:h(()=>[v(Se,{style:{"min-width":"350px"}},{default:h(()=>[v(Z,null,{default:h(()=>[M("div",Jt,te(t.title),1)]),_:1}),e.isAuthenticated&&e.userRole==="System Administrator"?(K(),z(Z,{key:0,class:"q-pt-none"},{default:h(()=>[v(Me,{label:"Name",dense:"",modelValue:t.itemName,"onUpdate:modelValue":a[0]||(a[0]=s=>t.itemName=s),autofocus:""},null,8,["modelValue"])]),_:1})):ee("",!0),e.isAuthenticated&&e.userRole==="IT Teacher"?(K(),z(Z,{key:1,class:"q-pt-none"},{default:h(()=>[v(Me,{label:"Name",dense:"",modelValue:t.itemName,"onUpdate:modelValue":a[1]||(a[1]=s=>t.itemName=s),readonly:""},null,8,["modelValue"])]),_:1})):ee("",!0),v(Z,{class:"q-pt-none"},{default:h(()=>[v(xt,{label:"Status",modelValue:t.isItemActive,"onUpdate:modelValue":a[2]||(a[2]=s=>t.isItemActive=s),"checked-icon":"check",color:"green","unchecked-icon":"clear","left-label":""},null,8,["modelValue"]),t.isItemActive?(K(),Ie("span",Zt,"ACTIVE")):ee("",!0),t.isItemActive?ee("",!0):(K(),Ie("span",ea,"INACTIVE"))]),_:1}),v(He,{align:"right",class:"text-primary"},{default:h(()=>[v(F,{flat:"",label:"Cancel",onClick:i.closeDialog},null,8,["onClick"]),v(F,{color:"blue",label:"Save",onClick:i.saveChanges},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var aa=De(Xt,[["render",ta]]);const ia={data(){return{title:"",nameLabel:"",showDialog:!0,itemId:null,itemName:""}},props:{id:Number,name:String,type:String},created(){this.title=`Confirm ${this.type} Deletion`,this.itemId=this.id,this.itemName=this.name},methods:{closeDialog(){this.showDialog=!1,this.$emit("close-dialog",!1)},deleteRecord(){const e=`TICKET_${this.type.toUpperCase()}_ID`;this.$emit("delete-dialog",{item:{[e]:this.itemId},idPropertyName:e})}}},la={class:"text-h6"},oa={class:"text-body2 q-mt-lg"};function na(e,a,r,o,t,i){return K(),z(Xe,{modelValue:t.showDialog,"onUpdate:modelValue":a[0]||(a[0]=s=>t.showDialog=s),persistent:""},{default:h(()=>[v(Se,{style:{"min-width":"350px"}},{default:h(()=>[v(Z,{class:"qheader q-pa-sm text-white"},{default:h(()=>[M("div",la,te(t.title),1)]),_:1}),v(Z,null,{default:h(()=>[M("div",oa,[v(oe,{class:"q-mr-md",name:"warning",color:"warning",size:"3rem"}),we("Confirm deletion of "+te(r.type.toLowerCase())+": ",1),M("strong",null,te(t.itemName),1)])]),_:1}),v(He,{align:"right",class:"text-primary"},{default:h(()=>[v(F,{class:"actionsbtn",flat:"",label:"Cancel",onClick:i.closeDialog},null,8,["onClick"]),v(F,{class:"actionsbtn",color:"secondary",label:"Delete",onClick:i.deleteRecord},null,8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}var sa=De(ia,[["render",na],["__scopeId","data-v-0f069f3d"]]);const ra={components:{EditSettingDialog:aa,DeleteSettingsDialog:sa},data(){return{editedItem:{itemType:"",showDialog:!1,itemId:"",itemName:"",isItemActive:!0},deleteItem:{itemType:"",showDialog:!1,itemId:"",itemName:""},visibleCategoryColumns:["category_type","status","actions","delactions"],visiblePriorityColumns:["priorities","status","actions","delactions"],categoryData:[],priorityData:[],updatedCategoryData:[],tableKey:0}},created(){this.getPriorities(),this.getCategories(),this.hideColums()},methods:{editRow(e,a){let r,o;e==="Category"?(r=a.row.TICKET_CATEGORY_ID,o=a.row.TICKET_CATEGORY_DESC):(r=a.row.TICKET_PRIORITY_ID,o=a.row.TICKET_PRIORITY_DESC),this.editedItem.itemId=r,this.editedItem.itemName=o,this.editedItem.isItemActive=a.row.ACTIVE_STATUS_ID===1,this.editedItem.itemType=e,this.editedItem.showDialog=!0},handleCloseDialog(){this.editedItem.showDialog=!1},handleCloseDeleteDialog(){this.deleteItem.showDialog=!1},handleSaveDialog(e){const{idPropertyName:a,item:r}=e,o=r[a];if(this.editedItem.itemType==="Category"){const t=this.categoryData.findIndex(i=>i[a]===o);this.categoryData[t]=r}else{const t=this.priorityData.findIndex(i=>i[a]===o);this.priorityData[t]=r}ue.put(`http://localhost:8001/api/${this.editedItem.itemType}/${o}`,r),this.editedItem.showDialog=!1},handleDeleteDialog(e){const{idPropertyName:a,item:r}=e,o=r[a],t=this.deleteItem.itemType.toLocaleLowerCase();ue.delete(`http://localhost:8001/api/${t}/${o}`),this.tableKey+=1,this.getCategories(),console.log("Key updt: ",this.tableKey),this.getCategories(),this.getPriorities(),this.deleteItem.showDialog=!1},hideColums(){this.userRole!="IT Teacher"&&(this.visibleCategoryColumns=["category_type","status","actions"],this.visiblePriorityColumns=["priorities","status","actions"])},getCategories(){ue.get("http://localhost:8001/api/categories").then(e=>{this.categoryData=e.data,console.log(this.categoryData),this.loading=!1})},getPriorities(){ue.get("http://localhost:8001/api/priorities").then(e=>{this.priorityData=e.data,this.loading=!1})},deleteRow(e,a){let r,o;e==="Category"?(r=a.row.TICKET_CATEGORY_ID,o=a.row.TICKET_CATEGORY_DESC):(r=a.row.TICKET_PRIORITY_ID,o=a.row.TICKET_PRIORITY_DESC),this.deleteItem.itemId=r,this.deleteItem.itemName=o,this.deleteItem.itemType=e,this.deleteItem.showDialog=!0}},setup(){const e=[{name:"category_type",label:"Category",field:"TICKET_CATEGORY_DESC",align:"left"},{name:"status",align:"center",label:"Status",field:"ACTIVE_STATUS_DESC",sortable:!0},{name:"actions",label:"Edit",field:"",align:"left"},{name:"delactions",label:"Delete",field:"",align:"left"}],a=[{name:"priorities",label:"Priorities",field:"TICKET_PRIORITY_DESC",align:"left"},{name:"status",align:"center",label:"Status",field:"ACTIVE_STATUS_DESC",sortable:!0},{name:"actions",label:"Edit",field:"",align:"left"},{name:"delactions",label:"Delete",field:"",align:"left"}];return{tab:D("categories"),setActive:D("Active"),loading:D(!0),catColumns:e,prioritiesColumns:a,selected:D([]),redModel:D(!0)}},computed:{...Ge("auth",["isAuthenticated","userEmail","userFirstName","userRole"])}},ua={class:"q-pa-md"},ca={class:"q-gutter-y-sm",style:{"margin-left":"15px","margin-right":"15px"}},da={class:"row"},va={class:"col-flex"},ma={class:"row"},fa={class:"col"},ha={class:"q-pa-md"},ga={class:"q-pa-md"};function ba(e,a,r,o,t,i){const s=Ke("EditSettingDialog"),C=Ke("DeleteSettingsDialog");return K(),Ie("div",ua,[M("div",ca,[M("div",da,[M("div",va,[v(F,{class:"q-mt-md",onClick:a[0]||(a[0]=u=>e.$router.push("/settings")),label:"Back",icon:"arrow_back_ios",color:"secondary",outline:""})])]),M("div",ma,[M("div",fa,[v(Se,{class:"q-ma-lg"},{default:h(()=>[v(Ot,{modelValue:o.tab,"onUpdate:modelValue":a[1]||(a[1]=u=>o.tab=u),class:"text-white bg-secondary","indicator-color":"white",align:"justify","narrow-indicator":""},{default:h(()=>[v(Fe,{name:"categories",label:"Categories"}),v(Fe,{name:"priorities",label:"Priorities"})]),_:1},8,["modelValue"]),v(Et),v(Ht,{modelValue:o.tab,"onUpdate:modelValue":a[3]||(a[3]=u=>o.tab=u),animated:"",align:"center"},{default:h(()=>[v(Ye,{name:"categories"},{default:h(()=>[M("div",ha,[(K(),z($e,{title:"Category Types",key:t.tableKey,color:"secondary","virtual-scroll":"",align:e.left,loading:o.loading,rows:t.categoryData,columns:o.catColumns,"virtual-scroll-sticky-size-start":20,"visible-columns":t.visibleCategoryColumns},{"body-cell-status":h(u=>[v(J,{props:u},{default:h(()=>[v(Oe,{color:u.row.ACTIVE_STATUS_ID===1?"green":"red","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:h(()=>[we(te(u.row.ACTIVE_STATUS_DESC),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-actions":h(u=>[v(J,{props:u},{default:h(()=>[v(F,{dense:"",round:"",flat:"",color:"secondary",onClick:E=>i.editRow("Category",u),icon:"edit"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-delactions":h(u=>[v(J,{props:u},{default:h(()=>[v(F,{dense:"",round:"",flat:"",onClick:E=>i.deleteRow("Category",u),icon:"delete",color:"secondary"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["align","loading","rows","columns","visible-columns"]))])]),_:1}),v(Ye,{modelValue:o.tab,"onUpdate:modelValue":a[2]||(a[2]=u=>o.tab=u),animated:"",align:"center",name:"priorities"},{default:h(()=>[M("div",ga,[(K(),z($e,{title:"Prioirities",key:t.tableKey,color:"secondary","virtual-scroll":"",align:e.left,loading:o.loading,rows:t.categoryData,columns:o.catColumns,"virtual-scroll-sticky-size-start":20,"visible-columns":t.visibleCategoryColumns},{"body-cell-status":h(u=>[v(J,{props:u},{default:h(()=>[v(Oe,{color:u.row.ACTIVE_STATUS_ID===1?"green":"red","text-color":"white",dense:"",class:"text-weight-bolder",square:""},{default:h(()=>[we(te(u.row.ACTIVE_STATUS_DESC),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-actions":h(u=>[v(J,{props:u},{default:h(()=>[v(F,{dense:"",round:"",flat:"",onClick:E=>i.editRow("Priority",u),icon:"edit",color:"secondary"},null,8,["onClick"])]),_:2},1032,["props"])]),"body-cell-delactions":h(u=>[v(J,{props:u},{default:h(()=>[v(F,{dense:"",round:"",flat:"",onClick:E=>i.deleteRow("Priority",u),icon:"delete",color:"secondary"},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["align","loading","rows","columns","visible-columns"]))])]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1})])]),t.editedItem.showDialog?(K(),z(s,{key:0,id:t.editedItem.itemId,name:t.editedItem.itemName,isActive:t.editedItem.isItemActive,type:t.editedItem.itemType,onCloseDialog:i.handleCloseDialog,onSaveDialog:i.handleSaveDialog},null,8,["id","name","isActive","type","onCloseDialog","onSaveDialog"])):ee("",!0),t.deleteItem.showDialog?(K(),z(C,{key:1,id:t.deleteItem.itemId,name:t.deleteItem.itemName,type:t.deleteItem.itemType,onCloseDialog:i.handleCloseDeleteDialog,onDeleteDialog:i.handleDeleteDialog},null,8,["id","name","type","onCloseDialog","onDeleteDialog"])):ee("",!0)])])}var wa=De(ra,[["render",ba]]);export{wa as default};
